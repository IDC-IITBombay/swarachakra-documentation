MVC in Swarachakra
==================

3.1 ###MVC Architecture

MVC or Model-View-Controller is a design pattern followed while implementing user interfaces. It involves splitting the code into closely knit modules to separate the database logic from the views. Following the it’s various components:-

1. **Model**
All interactions with the databases are handled by the models. It’s job is to implement CRUDs on the databases.
2. **View**
All the data represented on the screen is a part of the view. The view gets updated when controller gets the updated values from the model.
3. **Controller**
A controller synchronises the data from model and the view. Any change triggered from the view is sent to the model via the controller or any change to the database is reflected on the view via the controller.

Here is an image that gives a rough idea about a basic MVC architecture.






3.2 ###Swarachakra Controllers

The keyboard is only one controller with the name: **KeyboardController**. It is responsible for the http request to the JSON file generated by the parser. Based on the responsible, it binds all the keys to the correct scope variables. It is also responsible for binding the keys to the Swarachakra chakra. It has the following methods implemented currently:


1. displaychakra() / hidechakra():
As the name suggests, it is responsible for toggling the Swarachakra chakra.
2. shifttable():
It replaces the current table view with an alternate or secondary table view. The alternate table view contains important numerals and symbols.


3.3 ###Swarachakra Models

The keyboard is divided into 2 models: **KeyboardModel** and **LanguageModel**. KeyboardModel is responsible for mapping the unicodes from the JSON file to the keyboard view whereas LanguageModel can be used to switch different languages on the keyboard from within the keyboard.

KeyboardModel has the following methods:
1. addlanguage(obj):
assigns the language object coming from the selected JSON file to language object variable which is used extensively by the model.
2. getallkeys():
converts the JSON structure into a two dimensional array consisting of 5 columns and variable number of rows, depending on the number of unicodes.

Following are the row specific methods that return the exact maps to keyboard view.


3.4 ###Swarachakra Views

Swarachakra view is basically an html boilerplate file which is loaded on to the screen via jQuery once a user clicks an input text html entity. It is divided into several tables which each table getting assigned the returned values by KeyboardModel inside the KeyboardController. The keys consist of customised html5 attributes that keep record of the code corresponding to the unicode or label, the chakra which keeps record whether a customised chakra or the default chakra is called.
All the events like sharing the data typed from the keyboard as also called from the keyboard itself.
The view consists of the chakra written in an SVG format which is toggled on clicking the table elements corresponding those which have the chakra property enabled.

Images of chakra, keyboard, sample html.